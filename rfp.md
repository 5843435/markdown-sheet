# プロダクト要件仕様書

## Markdown Studio — Markdown エディタ / テーブル編集ツール

---

## 1. プロダクト概要

**Markdown Studio** は、Markdown ファイルの編集・プレビュー・テーブル管理を統合した Windows デスクトップアプリです。

- Markdown をリアルタイムプレビューしながら編集できる
- テーブルを Excel のようなインタラクティブ UI で編集できる
- Git 互換の `.md` ファイルとして保存される

---

## 2. 対象ユーザー

| カテゴリ | ユーザー像 |
| --- | --- |
| エンジニア | Markdown を要件定義・画面一覧・DB定義で使いたい |
| PM / PL | 仕様テーブルを直接整理したい |
| ドキュメント文化があるチーム | Git で Markdown 表を管理したい |
| AI + ドキュメント活用者 | Markdown を解析・出力対象にしたい |

---

## 3. 解決する課題

### Problem

- Markdown の表はテキストなので操作感が悪い
- VS Code 以外のエディタで Markdown 表の編集がしにくい
- Excel は Git で差分が扱いにくい
- Markdown → Excel → また Markdown に戻す手間がかかる

### Goal

> Markdown 表を **Excel のように直感的に操作でき、Git 管理もスムーズにできるツール**

---

## 4. 実装済み機能

### 4-1. Markdown エディタ / プレビュー

| 機能 | 説明 |
| --- | --- |
| リアルタイムプレビュー | 入力と同時にプレビューを更新 |
| スクロール同期 | エディタとプレビューのスクロール位置を連動（ON/OFF 切替可） |
| 書式ツールバー | 太字・斜体・取り消し線・見出し・リスト・コード・リンク・区切り線 |
| キーボードショートカット | Ctrl+B（太字）、Ctrl+I（斜体）など |
| エディタ非表示 | Ctrl+\ でプレビュー専用モードへ切替 |
| フォント・表示設定 | フォント種類（メイリオ等）・フォントサイズ・行間を変更可（localStorage 永続化） |

### 4-2. 表編集 UI（テーブルモード）

| 機能 | 説明 |
| --- | --- |
| セル編集 | ダブルクリックで編集、Tab / Shift+Tab で移動 |
| 行・列の追加 | コンテキストメニューで上下・左右に追加 |
| 行・列の削除 | コンテキストメニューで削除 |
| Undo / Redo | テーブル操作の取り消し・やり直し |
| 検索・置換 | テーブル内のセルを検索・置換 |

### 4-3. ファイル操作

| 機能 | 説明 |
| --- | --- |
| ファイルツリー | フォルダを開いて .md ファイルを一覧表示 |
| 開く / 保存 / 別名保存 | Tauri ネイティブダイアログ |
| 自動パース | 読み込んだ Markdown のテーブルを自動解析 |

### 4-4. エクスポート

| 形式 | 説明 |
| --- | --- |
| PDF | html2pdf.js によるプレビュー PDF 出力 |
| HTML | スタイル付き HTML ファイルとして保存 |
| 書式付きクリップボード | PowerPoint / Excel に貼り付け可能な書式付きコピー |

### 4-5. Mermaid 図

- コードブロック（` ```mermaid `）を自動レンダリング
- SVG コピー・SVG 保存ボタン

### 4-6. 検索・置換

- プレビューモード：Markdown テキスト全体を対象に検索・置換
- テーブル編集モード：テーブルセルを対象に検索・置換

---

## 5. UI/UX

### メイン画面構成

```
+--------------------+---------------------------------------+
|   ツールバー（上部）                                        |
+--------------------+---------------------------------------+
|   タブ（プレビュー | テーブル編集）                          |
+----------+---------+---------------------------------------+
|          | Markdown エディタ  |  プレビュー                 |
| ファイル  |  書式ツールバー   |  フォント・行間設定           |
| ツリー   |  textarea        |  rendered HTML              |
|          |                  |                             |
+----------+------------------+-----------------------------+
```

### 表示設定

- フォント：サンセリフ / メイリオ / MSPゴシック / 游ゴシック / 游明朝 / MS P明朝 / Georgia / 等幅
- フォントサイズ：12 / 13 / 14 / 16 / 18 px
- 行間：1.4 / 1.6 / 1.8 / 2.0 / 2.4

---

## 6. 非機能要件

| 要件 | 説明 |
| --- | --- |
| OS | Windows（Tauri 2、将来的に macOS 対応可） |
| 配布 | MSI インストーラー |
| データ保存 | UTF-8 Markdown（Git 完全互換） |
| 設定保存 | localStorage（フォント・テーマ・スクロール同期等） |
| 技術スタック | Tauri 2 / React 19 / TypeScript / Vite 6 |

---

## 7. 拡張候補（次フェーズ）

- Git 連携 UI（コミット・差分確認）
- AI 解析連携（Claude API / Copilot）
- 表のエクスポート（CSV / Excel）
- バージョン履歴比較
- セル結合サポート
- Markdown 以外のファイル形式対応
